import 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport 'package:shared_preferences/shared_preferences.dart';\n\nclass ThemeController extends GetxController {\n  final _themeMode = ThemeMode.system.obs;\n  \n  ThemeMode get themeMode => _themeMode.value;\n  \n  @override\n  void onInit() {\n    super.onInit();\n    _loadThemeMode();\n  }\n\n  Future<void> _loadThemeMode() async {\n    final prefs = await SharedPreferences.getInstance();\n    final themeModeString = prefs.getString('theme_mode') ?? 'system';\n    \n    switch (themeModeString) {\n      case 'light':\n        _themeMode.value = ThemeMode.light;\n        break;\n      case 'dark':\n        _themeMode.value = ThemeMode.dark;\n        break;\n      default:\n        _themeMode.value = ThemeMode.system;\n    }\n    \n    Get.changeThemeMode(_themeMode.value);\n  }\n\n  Future<void> setThemeMode(ThemeMode themeMode) async {\n    _themeMode.value = themeMode;\n    Get.changeThemeMode(themeMode);\n    \n    final prefs = await SharedPreferences.getInstance();\n    String themeModeString;\n    \n    switch (themeMode) {\n      case ThemeMode.light:\n        themeModeString = 'light';\n        break;\n      case ThemeMode.dark:\n        themeModeString = 'dark';\n        break;\n      default:\n        themeModeString = 'system';\n    }\n    \n    await prefs.setString('theme_mode', themeModeString);\n  }\n\n  bool get isDarkMode => _themeMode.value == ThemeMode.dark;\n  bool get isLightMode => _themeMode.value == ThemeMode.light;\n  bool get isSystemMode => _themeMode.value == ThemeMode.system;\n\n  void toggleTheme() {\n    if (isDarkMode) {\n      setThemeMode(ThemeMode.light);\n    } else {\n      setThemeMode(ThemeMode.dark);\n    }\n  }\n}", "oldStr": "import 'package:flutter/material.dart';\n\nclass AppTheme {\n  static const Color primaryColor = Color(0xFF4CAF50);\n  static const Color secondaryColor = Color(0xFF8BC34A);\n  static const Color accentColor = Color(0xFF2E7D32);\n\n  static ThemeData get lightTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primaryColor,\n        brightness: Brightness.light,\n      ),\n      appBarTheme: const AppBarTheme(\n        centerTitle: true,\n        elevation: 0,\n        backgroundColor: Colors.transparent,\n        foregroundColor: Colors.black87,\n      ),\n      cardTheme: CardTheme(\n        elevation: 2,\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(12),\n        ),\n      ),\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(8),\n          ),\n          padding: const EdgeInsets.symmetric(horizontal: 24, vertical: 12),\n        ),\n      ),\n    );\n  }\n\n  static ThemeData get darkTheme {\n    return ThemeData(\n      useMaterial3: true,\n      colorScheme: ColorScheme.fromSeed(\n        seedColor: primaryColor,\n        brightness: Brightness.dark,\n      ),\n      appBarTheme: const AppBarTheme(\n        centerTitle: true,\n        elevation: 0,\n        backgroundColor: Colors.transparent,\n        foregroundColor: Colors.white,\n      ),\n      cardTheme: CardTheme(\n        elevation: 2,\n        shape: RoundedRectangleBorder(\n          borderRadius: BorderRadius.circular(12),\n        ),\n      ),\n      elevatedButtonTheme: ElevatedButtonThemeData(\n        style: ElevatedButton.styleFrom(\n          shape: RoundedRectangleBorder(\n            borderRadius: BorderRadius.circular(8),\n          ),\n          padding: const EdgeInsets.symmetric(horizontal: 24, vertical: 12),\n        ),\n      ),\n    );\n  }\n}"}