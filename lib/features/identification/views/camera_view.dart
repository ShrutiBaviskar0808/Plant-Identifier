import 'package:flutter/material.dart';\nimport 'package:get/get.dart';\nimport '../controllers/identification_controller.dart';\n\nclass CameraView extends GetView<IdentificationController> {\n  const CameraView({super.key});\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: const Text('Identify Plant'),\n        backgroundColor: Colors.black,\n        foregroundColor: Colors.white,\n      ),\n      backgroundColor: Colors.black,\n      body: Obx(() {\n        if (!controller.isInitialized) {\n          return const Center(\n            child: CircularProgressIndicator(color: Colors.white),\n          );\n        }\n\n        return Stack(\n          children: [\n            // Camera Preview\n            Positioned.fill(\n              child: controller.cameraController != null\n                  ? CameraPreview(controller.cameraController!)\n                  : const Center(\n                      child: Text(\n                        'Camera not available',\n                        style: TextStyle(color: Colors.white),\n                      ),\n                    ),\n            ),\n\n            // Camera Overlay\n            Positioned.fill(\n              child: Container(\n                decoration: BoxDecoration(\n                  border: Border.all(\n                    color: Colors.white.withOpacity(0.5),\n                    width: 2,\n                  ),\n                ),\n                margin: const EdgeInsets.all(50),\n              ),\n            ),\n\n            // Instructions\n            Positioned(\n              top: 50,\n              left: 20,\n              right: 20,\n              child: Container(\n                padding: const EdgeInsets.all(16),\n                decoration: BoxDecoration(\n                  color: Colors.black.withOpacity(0.7),\n                  borderRadius: BorderRadius.circular(8),\n                ),\n                child: Text(\n                  'Position the plant within the frame and tap the capture button',\n                  style: Theme.of(context).textTheme.bodyMedium?.copyWith(\n                    color: Colors.white,\n                  ),\n                  textAlign: TextAlign.center,\n                ),\n              ),\n            ),\n\n            // Bottom Controls\n            Positioned(\n              bottom: 0,\n              left: 0,\n              right: 0,\n              child: Container(\n                padding: const EdgeInsets.all(20),\n                decoration: BoxDecoration(\n                  color: Colors.black.withOpacity(0.8),\n                ),\n                child: Row(\n                  mainAxisAlignment: MainAxisAlignment.spaceEvenly,\n                  children: [\n                    // Gallery Button\n                    IconButton(\n                      onPressed: controller.isProcessing ? null : controller.pickFromGallery,\n                      icon: const Icon(Icons.photo_library),\n                      iconSize: 32,\n                      color: Colors.white,\n                    ),\n\n                    // Capture Button\n                    GestureDetector(\n                      onTap: controller.isProcessing ? null : controller.takePicture,\n                      child: Container(\n                        width: 70,\n                        height: 70,\n                        decoration: BoxDecoration(\n                          shape: BoxShape.circle,\n                          color: controller.isProcessing ? Colors.grey : Colors.white,\n                          border: Border.all(\n                            color: Colors.white,\n                            width: 3,\n                          ),\n                        ),\n                        child: controller.isProcessing\n                            ? const Center(\n                                child: CircularProgressIndicator(\n                                  strokeWidth: 2,\n                                  color: Colors.black,\n                                ),\n                              )\n                            : const Icon(\n                                Icons.camera_alt,\n                                color: Colors.black,\n                                size: 32,\n                              ),\n                      ),\n                    ),\n\n                    // Flash Button (placeholder)\n                    IconButton(\n                      onPressed: () {},\n                      icon: const Icon(Icons.flash_off),\n                      iconSize: 32,\n                      color: Colors.white,\n                    ),\n                  ],\n                ),\n              ),\n            ),\n          ],\n        );\n      }),\n    );\n  }\n}